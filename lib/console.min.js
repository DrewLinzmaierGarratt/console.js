!function(root){function generateNewMethod(o){return function(){if(OldConsole[o].apply(console,arguments),-1!==["debug","log","info","warn","error","dir"].indexOf(o))for(var e=0;e<_consoleJS._els.length;++e){var t=_consoleJS._els[e],n="",r="<br />";"PRE"===t.tagName&&(r="\n");var s=document.createElement("span");s.className+=o;for(var e=0;e<arguments.length;++e)n+=JSON.stringify(arguments[e],null,"dir"===o?4:void 0)+" ";n+=r,s.innerText?s.innerText=n:s.textContent=n,t.appendChild(s)}}}function overrideMethod(o){OldConsole[o]=console[o],console[o]=generateNewMethod(o)}function ConsoleJS(){this._els=[],this._history=[],this._current=-1}var OldConsole={};if("object"==typeof console){ConsoleJS.prototype.init=function(options){var self=this;for(var method in console)overrideMethod(method);if(options=options||{},"object"!=typeof options&&(options={selector:options}),!options.selector)throw new Error("options.selector is required");"string"==typeof options.selector&&(self._els=document.querySelectorAll(options.selector)),options.input&&("string"==typeof options.input&&(options.input=document.querySelector(options.input)),options.input.addEventListener("keydown",function(e){if(38===e.keyCode&&e.ctrlKey)return void(this.value=self.history.back().command);if(40===e.keyCode&&e.ctrlKey)return void(this.value=_consoleJS.history.next().command);if(13===e.keyCode&&!e.shiftKey){self._history.push({command:this.value,date:new Date}),self._current=self._history.length;try{console.log(eval(this.value))}catch(e){console.error(e.message)}this.value="",e.preventDefault()}}))},ConsoleJS.prototype.history={},ConsoleJS.prototype.history.back=function(){var o=_consoleJS._history[--_consoleJS._current];return void 0===o&&(++_consoleJS._current,o={command:""}),o},ConsoleJS.prototype.history.next=function(){var o=_consoleJS._history[++_consoleJS._current];return void 0===o&&(--_consoleJS._current,o={command:""}),o};var _consoleJS=new ConsoleJS;window.ConsoleJS=_consoleJS}}(this);
